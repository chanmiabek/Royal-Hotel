{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ROYAL HOTEL</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicons -->
    {% comment %} <link href="{% static 'img/favicon.ico' %}" rel="icon"> {% endcomment %}
    {% comment %} <link href="{% static 'img/apple-favicon.png' %}" rel="apple-touch-icon"> {% endcomment %}

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet"> 

    <!-- Vendor CSS File -->
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/slick/slick.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/slick/slick-theme.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}" rel="stylesheet" />

    <!-- Main Stylesheet File -->
    <link href="{% static 'css/hover-style.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <style>
        .top-menu .dropdown .dropdown-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 0 10px;
            line-height: 60px;
            border: none;
            border-radius: 0;
            background: transparent;
            color: #FFD700;
            transition: all .2s ease;
        }
        .top-menu .dropdown .dropdown-toggle:hover,
        .top-menu .dropdown.show .dropdown-toggle {
            color: #ffffff;
            box-shadow: none;
        }
        .top-menu .dropdown {
            position: relative;
        }
        .top-menu .dropdown-menu {
            min-width: 220px;
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            left: auto;
            display: block;
            opacity: 0;
            visibility: hidden;
            transform: translateY(8px);
            z-index: 2000;
            background: #222222;
            border: 1px solid #3a3a3a;
            border-radius: 0;
            box-shadow: 0 14px 28px rgba(0, 0, 0, .12);
            padding: 6px;
            margin-top: 6px;
            transition: opacity .2s ease, transform .2s ease, visibility .2s ease;
        }
        .top-menu .dropdown.show .dropdown-menu,
        .top-menu .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .top-menu .dropdown-item {
            display: flex;
            align-items: center;
            gap: 10px;
            border-radius: 0;
            padding: 10px 12px;
            font-size: 14px;
            color: #FFD700;
            transition: all .2s ease;
        }
        .top-menu .dropdown-item i {
            width: 16px;
            text-align: center;
        }
        .top-menu .dropdown-item:hover {
            background: #FFD700;
            color: #222222;
        }
        @media (max-width: 991px) {
            .top-menu .dropdown-menu {
                right: auto;
                left: 0;
                min-width: 200px;
            }
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Header Section Start -->
    <header id="header">
        <a href="{% url 'index' %}" class="logo">
            <img src="{% static 'img/logo.jpg' %}" alt="Royal Hotel Logo">
        </a>
        <div class="phone"><i class="fa fa-phone"></i>+254799091016</div>
        <div class="mobile-menu-btn"><i class="fa fa-bars"></i></div>
        <nav class="main-menu top-menu">
            <ul>
                <li class="{% if request.resolver_match.url_name == 'index' %} active{% endif %}">
                    <a href="{% url 'index' %}">Home</a>
                </li>
                <li class="{% if request.resolver_match.url_name == 'about' %} active{% endif %}">
                    <a href="{% url 'about' %}">About Us</a>
                </li>
                <li class="{% if request.resolver_match.url_name == 'room_list' or request.resolver_match.url_name == 'room_detail' %}active{% endif %}">
                    <a href="{% url 'room_list' %}">Rooms</a>
                </li>
                <li class="{% if request.resolver_match.url_name == 'amenities' %}active{% endif %}">
                    <a href="{% url 'amenities' %}">Amenities</a>
                </li>
                <li class="{% if request.resolver_match.url_name == 'booking' or request.resolver_match.url_name == 'booking_confirmation' %}active{% endif %}">
                    <a href="{% url 'booking' %}">Booking</a>
                </li>
                {% if user.is_authenticated %}
                <li class="nav-item dropdown {% if request.resolver_match.url_name == 'profile' or request.resolver_match.url_name == 'my_bookings' or request.resolver_match.url_name == 'admin_users' or request.resolver_match.url_name == 'admin_payments' or request.resolver_match.url_name == 'admin_booked_rooms' %}active{% endif %}">
                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-user"></i> {{ user.first_name|default:user.username }}
                    </a>
                    <div class="dropdown-menu" aria-labelledby="userDropdown">
                        <a class="dropdown-item" href="{% url 'profile' %}">
                            <i class="fa fa-user-circle"></i> My Profile
                        </a>
                        {% if user.is_staff or user.is_superuser %}
                        <a class="dropdown-item" href="{% url 'admin_booked_rooms' %}">
                            <i class="fa fa-bed"></i> Booked Rooms
                        </a>
                        <a class="dropdown-item" href="{% url 'admin_users' %}">
                            <i class="fa fa-users"></i> Manage Users
                        </a>
                        <a class="dropdown-item" href="{% url 'admin_payments' %}">
                            <i class="fa fa-money"></i> Manage Payments
                        </a>
                        {% else %}
                        <a class="dropdown-item" href="{% url 'my_bookings' %}">
                            <i class="fa fa-calendar-check-o"></i> My Bookings
                        </a>
                        {% endif %}
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="{% url 'logout' %}">
                            <i class="fa fa-sign-out"></i> Logout
                        </a>
                    </div>
                </li>
                {% else %}
                <li class="{% if request.resolver_match.url_name == 'login' %}active{% endif %}">
                    <a href="{% url 'login' %}">
                        <i class="fa fa-sign-in"></i> Login
                    </a>
                </li>
                <li class="{% if request.resolver_match.url_name == 'register' %}active{% endif %}">
                    <a href="{% url 'register' %}">
                        <i class="fa fa-user-plus"></i> Register
                    </a>
                </li>
                {% endif %}
                <li class="{% if request.resolver_match.url_name == 'contact' %}active{% endif %}">
                    <a href="{% url 'contact' %}">Contact Us</a>
                </li>
            </ul>
        </nav>
    </header>
    <!-- Header Section End -->

    <!-- Messages Section -->
    {% if messages %}
    <div id="messages" class="container mt-3">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Main Content Block -->
    <main>
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer Section Start -->
    <div id="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="footer-widget">
                        <h3>About Royal Hotel</h3>
                        <p>Experience luxury and comfort at its finest. We provide world-class amenities and exceptional service for an unforgettable stay.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="footer-widget">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="{% url 'about' %}">About Us</a></li>
                            <li><a href="{% url 'room_list' %}">Our Rooms</a></li>
                            <li><a href="{% url 'amenities' %}">Amenities</a></li>
                            <li><a href="{% url 'contact' %}">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="footer-widget">
                        <h3>Contact Info</h3>
                        <p><i class="fa fa-map-marker"></i> Hongkong Road Eastside, Kakuma, Kenya</p>
                        <p><i class="fa fa-phone"></i> +254799091016</p>
                        <p><i class="fa fa-envelope"></i> info@royalhotel.com</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="social">
                        <a href="#" class="social-icon"><i class="fa fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fa fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fa fa-facebook-f"></i></a>
                    </div>
                </div>
                <div class="col-12">
                    <p class="copyright">Copyright &#169; {% now "Y" %} <a href="{% url 'index' %}">Royal Hotel</a> All Rights Reserved.</p>
                    <p class="credit">Designed By <a href="https://chanmiabek.netify.app" target="_blank">Maggiso</a></p>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer Section End -->

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

    <!-- Vendor JavaScript Files -->
    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/jquery/jquery-migrate.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'vendor/easing/easing.min.js' %}"></script>
    <script src="{% static 'vendor/stickyjs/sticky.js' %}"></script>
    <script src="{% static 'vendor/superfish/hoverIntent.js' %}"></script>
    <script src="{% static 'vendor/superfish/superfish.min.js' %}"></script>
    <script src="{% static 'vendor/wow/wow.min.js' %}"></script>
    <script src="{% static 'vendor/slick/slick.min.js' %}"></script>
    <script src="{% static 'vendor/tempusdominus/js/moment.min.js' %}"></script>
    <script src="{% static 'vendor/tempusdominus/js/moment-timezone.min.js' %}"></script>
    <script src="{% static 'vendor/tempusdominus/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    
    <!-- Booking JavaScript Files (if they exist) -->
    {% comment %}
    <script src="{% static 'js/booking.js' %}"></script>
    <script src="{% static 'js/jqBootstrapValidation.min.js' %}"></script>
    {% endcomment %}
    
    <!-- Main Javascript File -->
    <script src="{% static 'js/main.js' %}"></script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
